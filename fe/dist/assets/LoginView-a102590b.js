import{d as w,u as v,a as f,r as h,c as V,b as t,e as a,t as c,w as y,f as b,g as B,l as d,m as u,h as $,i as p,o as k,j as E,B as C}from"./index-a57c35e9.js";import{_ as P}from"./Language.vue_vue_type_style_index_0_lang-af594e5e.js";const I={class:"login-view"},N={class:"login-container"},U=a("div",{class:"login-background"},null,-1),z={class:"login-input"},F={class:"login-input-container"},L={class:"account-title"},S={class:"password-title"},j={class:"login-button-container"},T=w({__name:"LoginView",setup(x){const _=B(),{t:i}=v(),g=f(),s=h({account:"",password:""}),l=async()=>{var e,o;if(d.isEmpty(s.value.account)||d.isEmpty(s.value.password)){u.error(i("loginView.message.formInValid"));return}try{await $.post("/user/login",{account:s.value.account,password:s.value.password});try{await g.getUser(),_.push({name:"order"})}catch{}}catch(n){switch((o=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:o.message){case"账号密码错误":{u.error(i("loginView.message.formInValid"));break}default:u.error(i("loginView.message.loginFailed"))}}};return(e,o)=>{const n=p("a-input"),m=p("a-input-password");return k(),V("div",I,[t(P,{class:"language"}),a("div",N,[U,a("div",z,[a("div",F,[a("p",L,c(e.$t("commonBiz.user.account")),1),t(n,{value:s.value.account,"onUpdate:value":o[0]||(o[0]=r=>s.value.account=r),bordered:!1,placeholder:e.$t("loginView.info.accountPlaceholder"),class:"account-input",onPressEnter:l},null,8,["value","placeholder"]),a("p",S,c(e.$t("commonBiz.user.password")),1),t(m,{value:s.value.password,"onUpdate:value":o[1]||(o[1]=r=>s.value.password=r),bordered:!1,placeholder:e.$t("loginView.info.passwordPlaceholder"),class:"password-input",onPressEnter:l},null,8,["value","placeholder"]),a("div",j,[t(b(C),{type:"primary",class:"login-button",onClick:l},{default:y(()=>[E(c(e.$t("loginView.actions.login")),1)]),_:1})])])])])])}}});export{T as default};
